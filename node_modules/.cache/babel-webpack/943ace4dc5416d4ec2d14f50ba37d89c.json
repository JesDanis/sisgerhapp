{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport * as CryptoJS from 'crypto-js';\nlet MenuComponent = class MenuComponent {\n  constructor(cookieService, sisgerhService, domSanitizer, router) {\n    this.cookieService = cookieService;\n    this.sisgerhService = sisgerhService;\n    this.domSanitizer = domSanitizer;\n    this.router = router;\n    this.sidebarShow = true;\n  }\n\n  ngOnInit() {\n    this.obtenerSesion();\n  }\n\n  obtenerSesion() {\n    //OBTENCION DE COOKIE\n    let inUser = 'sceli'; //'sceli' //'wmedina' //'dcadme'//'mchavez'//'jabad'//'//'wachachi'//'jsantamaria';\n    //let inUser = this.cookieService.get('user_eeasa');\n\n    this.sesion = [''];\n    this.sisgerhService.obtenerSesion(btoa(inUser)).subscribe(res => {\n      this.sesion = res;\n      this.sesion = this.sesion[0]; //Obtener DMPER_CODIGO\n\n      this.inPerson = this.sesion.DMPER_CODIGO;\n      this.inPerson = CryptoJS.AES.encrypt(this.inPerson.toString(), 'eeasaPer');\n      this.user = CryptoJS.AES.encrypt(inUser, 'eeasaPer');\n      localStorage.setItem('codPer', this.inPerson);\n      localStorage.setItem('user', this.user); //Cargar fotogafria\n\n      this.fotografia = this.sesion.DMPER_FOTOGRAFIA;\n      let TYPED_ARRAY = new Uint8Array(this.fotografia);\n      const STRING_CHAR = TYPED_ARRAY.reduce((data, byte) => {\n        return data + String.fromCharCode(byte);\n      }, '');\n      let base64String = btoa(STRING_CHAR);\n      this.imageUrl = this.domSanitizer.bypassSecurityTrustUrl('data:image/png;base64, ' + base64String);\n    });\n    this.sisgerhService.obtenerPerfil(inUser).subscribe(res => {\n      if (res[0].respuesta == 'SI') {\n        jQuery(\"#menuAdmin\").css(\"visibility\", \"visible\");\n      } else {\n        jQuery(\"#menuAdmin\").css(\"visibility\", \"hidden\");\n      }\n    });\n  }\n\n  sidebar() {\n    if (this.sidebarShow) {\n      jQuery('.largeTable').width('96vw');\n      this.sidebarShow = false;\n    } else {\n      jQuery('.largeTable').width('80vw');\n      this.sidebarShow = true;\n    }\n  }\n\n  salir() {\n    return 'http://172.20.0.84:7001/intranet';\n  }\n\n};\nMenuComponent = __decorate([Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.css']\n})], MenuComponent);\nexport { MenuComponent };","map":null,"metadata":{},"sourceType":"module"}